{"version":3,"file":"static/js/999.eab5c323.chunk.js","mappings":"uQACA,EAAuB,+B,SC6BvB,EAzBuB,SAAC,GAAkB,IAAhBA,EAAe,EAAfA,SACxB,GAA0BC,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KAgBA,OACE,kBAAMH,SAfa,SAAAI,GACnBA,EAAEC,iBAEmB,KAAjBH,EAAMI,QACRN,EAASE,GAGXC,EAAS,GACV,EAO+BI,UAAWC,EAAzC,WACE,kBAAOC,SANM,SAAC,GAAgB,IAAdC,EAAa,EAAbA,OAClBP,EAASO,EAAOC,MACjB,EAI8BC,KAAK,OAAOD,MAAOT,KAC9C,mBAAQU,KAAK,SAAb,sBAGL,E,SCyBD,EA5CmB,WACjB,OAA4BX,EAAAA,EAAAA,UAAS,IAArC,eAAOY,EAAP,KAAeC,EAAf,KACA,GAAkCb,EAAAA,EAAAA,WAAS,GAA3C,eAAOc,EAAP,KAAkBC,EAAlB,KACA,GAA0Bf,EAAAA,EAAAA,UAAS,MAAnC,eAAOgB,EAAP,KAAcC,EAAd,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KAMMnB,EAAQkB,EAAaE,IAAI,SAoB/B,OAlBAC,EAAAA,EAAAA,YAAU,WACR,GAAKrB,EAAL,CAEA,IAAMsB,EAAiB,mCAAG,wGAEtBR,GAAa,GAFS,UAGIS,EAAAA,EAAAA,IAAkBvB,GAHtB,gBAGdwB,EAHc,EAGdA,QACRZ,EAAUY,GAJY,gDAKbC,EALa,KAKbA,QACTT,EAASS,GANa,yBAQtBX,GAAa,GARS,4EAAH,qDAYvBQ,GAdkB,CAenB,GAAE,CAACtB,KAGF,gCACGa,IACC,SAAC,KAAD,CAAUa,MAAM,KAAKC,MAAM,QAAQC,aAAa,aAGlD,SAAC,EAAD,CAAgB9B,SA9BH,SAAAE,GACfmB,EAAgB,CAAEnB,MAAAA,GACnB,KA6BG,SAAC6B,EAAA,EAAD,CAAQlB,OAAQA,IAEfI,IAAS,uBAAIA,MAGnB,C,wDChDKc,EAAS,SAAC,GAAgB,IAAdlB,EAAa,EAAbA,OACVmB,GAAWC,EAAAA,EAAAA,MAEXC,EAAarB,EAAOsB,KAAI,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,eAAP,OAC5B,yBACE,SAAC,KAAD,CACEC,GAAE,0CAAqCF,GACvCG,MAAO,CAAEC,KAAMR,GAFjB,SAIGK,KALID,EADmB,IAW9B,OACE,gBAAK7B,UAAU,UAAf,UACE,wBAAK2B,KAGV,EAED,MAEAH,EAAOU,aAAe,CACpB5B,OAAQ,G,wLCzBJ6B,E,QAAWC,EAAAA,OAAa,CAC5BC,QAAS,+BACTC,OAAQ,CACNC,QAAS,sCAIAC,EAAmB,mCAAG,sGACVL,EAASpB,IAAI,uBADH,uBACzB0B,EADyB,EACzBA,KADyB,kBAG1BA,GAH0B,2CAAH,qDAMnBC,EAAc,mCAAG,WAAMb,GAAN,yFACLM,EAASpB,IAAT,iBAAuBc,IADlB,uBACpBY,EADoB,EACpBA,KADoB,kBAGrBA,GAHqB,2CAAH,sDAMdvB,EAAiB,mCAAG,WAAMvB,GAAN,yFACRwC,EAASpB,IAAI,gBAAiB,CACnDuB,OAAQ,CACN3C,MAAAA,KAH2B,uBACvB8C,EADuB,EACvBA,KADuB,kBAOxBA,GAPwB,2CAAH,sDAUjBE,EAAiB,mCAAG,WAAMd,GAAN,yFACRM,EAASpB,IAAT,iBAAuBc,EAAvB,aADQ,uBACvBY,EADuB,EACvBA,KADuB,kBAGxBA,GAHwB,2CAAH,sDAMjBG,EAAc,mCAAG,WAAMf,GAAN,yFACLM,EAASpB,IAAT,iBAAuBc,EAAvB,aADK,uBACpBY,EADoB,EACpBA,KADoB,kBAGrBA,GAHqB,2CAAH,qD","sources":["webpack://react-homework-template/./src/components/MoviesPageForm/movies-page-form.module.css?e286","components/MoviesPageForm/MoviesPageForm.jsx","pages/MoviesPage/MoviesPage.jsx","shared/components/Movies/Movies.jsx","shared/services/movies-search-api.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"form\":\"movies-page-form_form__XjwUU\"};","import { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport css from './movies-page-form.module.css';\n\nconst MoviesPageForm = ({ onSubmit }) => {\n  const [query, setQuery] = useState('');\n\n  const onFormSubmit = e => {\n    e.preventDefault();\n\n    if (query.trim() !== '') {\n      onSubmit(query);\n    }\n\n    setQuery('');\n  };\n\n  const onChange = ({ target }) => {\n    setQuery(target.value);\n  };\n\n  return (\n    <form onSubmit={onFormSubmit} className={css.form}>\n      <input onChange={onChange} type=\"text\" value={query} />\n      <button type=\"submit\">Search</button>\n    </form>\n  );\n};\n\nexport default MoviesPageForm;\n\nMoviesPageForm.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","import { useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { TailSpin } from 'react-loader-spinner';\n\nimport Movies from 'shared/components/Movies/Movies';\nimport MoviesPageForm from 'components/MoviesPageForm/MoviesPageForm';\n\nimport { fetchMoviesByName } from 'shared/services/movies-search-api';\n\nconst MoviesPage = () => {\n  const [movies, setMovies] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const onSubmit = query => {\n    setSearchParams({ query });\n  };\n\n  const query = searchParams.get('query');\n\n  useEffect(() => {\n    if (!query) return;\n\n    const searchMovieByName = async () => {\n      try {\n        setIsLoading(true);\n        const { results } = await fetchMoviesByName(query);\n        setMovies(results);\n      } catch ({ message }) {\n        setError(message);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    searchMovieByName();\n  }, [query]);\n\n  return (\n    <>\n      {isLoading && (\n        <TailSpin width=\"50\" color=\"black\" wrapperClass=\"spinner\" />\n      )}\n\n      <MoviesPageForm onSubmit={onSubmit} />\n      <Movies movies={movies} />\n\n      {error && <p>{error}</p>}\n    </>\n  );\n};\n\nexport default MoviesPage;\n","import { Link, useLocation } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nconst Movies = ({ movies }) => {\n  const location = useLocation();\n\n  const moviesList = movies.map(({ id, original_title }) => (\n    <li key={id}>\n      <Link\n        to={`/goit-react-hw-05-movies/movies/${id}`}\n        state={{ from: location }}\n      >\n        {original_title}\n      </Link>\n    </li>\n  ));\n\n  return (\n    <div className=\"wrapper\">\n      <ul>{moviesList}</ul>\n    </div>\n  );\n};\n\nexport default Movies;\n\nMovies.defaultProps = {\n  movies: [],\n};\n\nMovies.propTypes = {\n  movies: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      original_title: PropTypes.string.isRequired,\n    })\n  ).isRequired,\n};\n","import axios from 'axios';\n\nconst instance = axios.create({\n  baseURL: 'https://api.themoviedb.org/3',\n  params: {\n    api_key: 'a1735b4b403b356dec5f0993d9adcd8f',\n  },\n});\n\nexport const fetchTrendingMovies = async () => {\n  const { data } = await instance.get('/trending/movie/day');\n\n  return data;\n};\n\nexport const fetchMovieById = async id => {\n  const { data } = await instance.get(`/movie/${id}`);\n\n  return data;\n};\n\nexport const fetchMoviesByName = async query => {\n  const { data } = await instance.get('/search/movie', {\n    params: {\n      query,\n    },\n  });\n\n  return data;\n};\n\nexport const fetchMovieReviews = async id => {\n  const { data } = await instance.get(`/movie/${id}/reviews`);\n\n  return data;\n};\n\nexport const fetchMovieCast = async id => {\n  const { data } = await instance.get(`/movie/${id}/credits`);\n\n  return data;\n};\n"],"names":["onSubmit","useState","query","setQuery","e","preventDefault","trim","className","css","onChange","target","value","type","movies","setMovies","isLoading","setIsLoading","error","setError","useSearchParams","searchParams","setSearchParams","get","useEffect","searchMovieByName","fetchMoviesByName","results","message","width","color","wrapperClass","Movies","location","useLocation","moviesList","map","id","original_title","to","state","from","defaultProps","instance","axios","baseURL","params","api_key","fetchTrendingMovies","data","fetchMovieById","fetchMovieReviews","fetchMovieCast"],"sourceRoot":""}